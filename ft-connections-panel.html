<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../iron-label/iron-label.html">
<link rel="import" href="../ft-connection-list/ft-connection-list.html">
<link rel="import" href="../ft-connection-details/ft-connection-details.html">

<!--
`ft-connections-panel`
An element that displays a list of FileThis connection resources

@demo demo/index.html
-->

<dom-module id="ft-connections-panel">

    <style include="iron-flex iron-flex-alignment"></style>

    <template>

        <!-- List panel and details panel -->
        <div class="layout horizontal">

            <!-- List panel -->
            <div class="layout vertical"
                 style="height:100%; border-right:1px solid #DDD;">

                <!-- Title -->
                <div class="layout horizontal center"
                     style="width:100%; height:40px; padding-left:10px;">
                    <iron-label style="font-family:Arial;font-size:14pt">
                        My Connections
                    </iron-label>
                </div>
                <div style="width:100%; height:1px; border-top:1px solid #DDD;"></div>

                <!-- List -->
                <ft-connection-list
                    id="connectionList"
                    connections="[[connections]]"
                    selected-connection="{{selectedConnection}}"
                    style="height:100%;">
                </ft-connection-list>

            </div>

            <!-- Details panel -->
            <div class="layout vertical"
                 style="width:100%; height:100%;"
                 hidden$="{{!selectedConnection}}">

                <!-- Title -->
                <div class="layout horizontal center"
                     style="width:100%; height:40px; padding-left:10px;">
                    <iron-label id="connectionName" style="font-family:Arial;font-size:14pt;">[[selectedConnection.name]]</iron-label>
                </div>
                <div style="width:100%; height:1px; border-top:1px solid #DDD;"></div>

                <!-- Details -->
                <ft-connection-details
                        id="connectionDetails"
                        sources="[[sources]]"
                        connection="[[selectedConnection]]"
                        style="width:100%; height:100%;">
                </ft-connection-details>
            </div>

            <!--<user-interaction-dialog id="interactionDialog"-->
                <!--on-cancel-button-clicked="onInteractionDialogCancel"-->
                <!--on-commit-button-clicked="onInteractionDialogCommit">-->
            <!--</user-interaction-dialog>-->
        </div>

    </template>

    <script>
        Polymer({

            is: 'ft-connections-panel',

            properties: {

                /** The list of connection resources to be displayed. */
                connections:
                {
                    type: Array,
                    notify: true,
                    value: []
                },

                /** The currently-selected connection, if any. */
                selectedConnection:
                {
                    type: Object,
                    notify: true,
                    value: null
                },

                /** The list of all sources. This is used to display source-specific properties for each connection. */
                sources:
                {
                    type: Array,
                    notify: true,
                    value: []
                }
            }

        });
    </script>
</dom-module>
