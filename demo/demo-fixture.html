<!-- ft-connections-panel element demo -->

<!-- Imports -->
<link rel="import" href="../../polymer/polymer.html">

<link rel="import" href="../ft-connections-panel.html">


<!--

An element that displays a list of FileThis connection resources

@demo demo/index.html
 -->
<dom-module id="demo-fixture">

    <style include="iron-flex iron-flex-alignment"></style>

    <template>

        <div class="layout vertical center">
            <ft-connections-panel id="panel" style="width:100%; border:1px solid #DDD; background-color:white"></ft-connections-panel>
        </div>


    </template>

    <script>

        Polymer
        ({
            is: 'demo-fixture',

            properties:
            {
            },

            ready: function()
            {
                this._loadFakeSources();
            },

            _loadFakeSources: function()
            {
                var path = "fake-sources.json";

                var xmlHttpRequest = new XMLHttpRequest();
                xmlHttpRequest.overrideMimeType("application/json");
                xmlHttpRequest.open('GET', path, true);
                xmlHttpRequest.onreadystatechange = function()
                {
                    if (xmlHttpRequest.readyState == 4 &&
                        xmlHttpRequest.status == "200")
                    {
                        var sources = JSON.parse(xmlHttpRequest.responseText);
                        panel.sources = sources;

                        this._loadFakeConnections()
                    }
                }.bind(this);
                xmlHttpRequest.send();
            },

            _loadFakeConnections: function()
            {
                var path = "fake-connections.json";

                var xmlHttpRequest = new XMLHttpRequest();
                xmlHttpRequest.overrideMimeType("application/json");
                xmlHttpRequest.open('GET', path, true);
                xmlHttpRequest.onreadystatechange = function()
                {
                    if (xmlHttpRequest.readyState == 4 &&
                        xmlHttpRequest.status == "200")
                    {
                        var connections = JSON.parse(xmlHttpRequest.responseText);
                        panel.connections = connections;
                    }
                };
                xmlHttpRequest.send();
            }.bind(this)

        });

    </script>

</dom-module>

